package tw.com.ctt.util;

import static org.junit.Assert.assertTrue;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Map;

import org.junit.runners.JUnit4;
import org.json.JSONArray;
import org.json.JSONObject;
import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;

@RunWith(JUnit4.class)
public class CTTLotteryCalcPk10Autotest {
	ArrayList<String> answer;
	String testCondition;
	@Before
	public void before() {
		
	}
	
	@After
	public void after() {
		answer = null;
		testCondition = null;
	}

	@Test
	public void	testssc() {
		List<Integer> data = new ArrayList<Integer>();
		answer = new ArrayList<String>();
		//期望答案
		String[] ans = {"19","17","15","14","15","1","-","1","-","-","1","-","-","1","-","1","1","-","1","1","1","-","-","1","-","-","1","1","-","10","9","6","4","5","8","7","1","3","2","1","2","9","8","5","3","4","10","7","6","2","8","10","7","5","1","3","6","4","9","6","8","7","9","2","1","4","5","10","3","2","7","10","9","1","3","5","6","8","4","l","l","l","h","h","h","h","h","l","l","h","l","l","l","l","l","h","l","l","l","h","h","l","l","h","10|9","1|2","2|8","6|8","2|7","3|2","7|6","4|9","10|3","8|4","10|9|6","1|2|9","2|8|10","6|8|7","2|7|10","1|3|2","10|7|6","6|4|9","5|10|3","6|8|4","6|8|4"};
		//
		//測試資料
		testCondition ="{\"calc\":[{\"rule\":\"pk10_gy2_1\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_gy2_2\",\"kj\":\"9,8,5,3,1,2,4,10,7,6\"},"+"{\"rule\":\"pk10_gy2_3\",\"kj\":\"7,8,10,6,5,1,3,2,4,9\"},"+"{\"rule\":\"pk10_gy2_3\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_gy2_3\",\"kj\":\"8,7,10,9,1,3,5,6,2,4\"},"+"{\"rule\":\"pk10_gy2dds_1\",\"kj\":\"6,5,9,4,10,8,7,1,3,2\"},"+"{\"rule\":\"pk10_gy2dds_1\",\"kj\":\"6,4,9,5,10,8,7,1,3,2\"},"+"{\"rule\":\"pk10_gy2dds_1\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_gy2dds_1\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_gy2dds_1\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_gy2dds_1\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_gy2dds_1\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_gy2dds_2\",\"kj\":\"6,5,9,4,10,8,7,1,3,2\"},"+"{\"rule\":\"pk10_gy2dds_2\",\"kj\":\"6,4,9,5,10,8,7,1,3,2\"},"+"{\"rule\":\"pk10_gy2dds_2\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_gy2dds_2\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_gy2dds_2\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_gy2dds_2\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_gy2dds_2\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_gy2dds_3\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_gy2dds_3\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_gy2dds_3\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_gy2dds_3\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_gy2dds_3\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_gy2dds_4\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_gy2dds_4\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_gy2dds_4\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_gy2dds_4\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_gy2dds_4\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_sort1\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_sort2\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_sort3\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_sort4\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_sort5\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_sort6\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_sort7\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_sort8\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_sort9\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_sort10\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_sort1\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_sort2\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_sort3\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_sort4\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_sort5\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_sort6\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_sort7\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_sort8\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_sort9\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_sort10\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_sort1\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_sort2\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_sort3\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_sort4\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_sort5\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_sort6\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_sort7\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_sort8\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_sort9\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_sort10\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_sort1\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_sort2\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_sort3\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_sort4\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_sort5\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_sort6\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_sort7\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_sort8\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_sort9\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_sort10\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_sort1\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_sort2\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_sort3\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_sort4\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_sort5\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_sort6\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_sort7\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_sort8\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_sort9\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_sort10\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_lh_1_10\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_lh_2_9\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_lh_3_8\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_lh_4_7\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_lh_5_6\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_lh_1_10\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_lh_2_9\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_lh_3_8\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_lh_4_7\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_lh_5_6\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_lh_1_10\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_lh_2_9\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_lh_3_8\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_lh_4_7\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_lh_5_6\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_lh_1_10\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_lh_2_9\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_lh_3_8\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_lh_4_7\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_lh_5_6\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_lh_1_10\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_lh_2_9\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_lh_3_8\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_lh_4_7\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_lh_5_6\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_q2\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_q2\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_q2\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_q2\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_q2\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_h2\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_h2\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_h2\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_h2\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_h2\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_q3\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_q3\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_q3\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_q3\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_q3\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_h3\",\"kj\":\"10,9,6,4,5,8,7,1,3,2\"},"+"{\"rule\":\"pk10_h3\",\"kj\":\"1,2,9,8,5,3,4,10,7,6\"},"+"{\"rule\":\"pk10_h3\",\"kj\":\"2,8,10,7,5,1,3,6,4,9\"},"+"{\"rule\":\"pk10_h3\",\"kj\":\"6,8,7,9,2,1,4,5,10,3\"},"+"{\"rule\":\"pk10_h3\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"},"+"{\"rule\":\"pk10_h3\",\"kj\":\"2,7,10,9,1,3,5,6,8,4\"}]}";
		//
		for (int i = 0; i < ans.length; i++) {
			answer.add(ans[i]);
		}
		//System.out.println(data.getClass().getName());
		//System.out.println(data);
		JSONObject obj = new JSONObject(testCondition);
		JSONArray arr = obj.getJSONArray("calc");
		if (arr.length() == answer.size()) {
			CTTLotteryCalcPk10 Pk10test = new CTTLotteryCalcPk10();
			for(int i =0;i<arr.length();i++) {
				JSONObject kjdata = (JSONObject) arr.get(i);
				String kj = kjdata.getString("kj");
				String rule = kjdata.getString("rule");
				List<String> kjArray = Arrays.asList(kj.split(","));
				List<Integer>listIntegers = new ArrayList<Integer>(kjArray.size());
				for(String current:kjArray) {
					listIntegers.add(Integer.parseInt(current));
				}
				Map<String , String> result = Pk10test.getResult(listIntegers);
				if (ans[i].equals(result.get(rule))) {
					assertTrue(ans[i].equals(result.get(rule)));
				}else {
					System.out.println(""+i+" "+ans[i]+" not equal"+" "+result.get(rule)+"");
				}
				
			}
			System.out.println("testCTTLotteryCalcPk10測試完成");
		}else {
			System.out.println("輸入錯誤");
		}
	}
}
